import{r as D,a as E}from"./react-vendor-CkHeIL06.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function l(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(n){if(n.ep)return;n.ep=!0;const t=l(n);fetch(n.href,t)}})();var j={exports:{}},p={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w;function R(){if(w)return p;w=1;var r=D(),s=Symbol.for("react.element"),l=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t={key:!0,ref:!0,__self:!0,__source:!0};function i(o,d,f){var a,m={},x=null,g=null;f!==void 0&&(x=""+f),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(g=d.ref);for(a in d)c.call(d,a)&&!t.hasOwnProperty(a)&&(m[a]=d[a]);if(o&&o.defaultProps)for(a in d=o.defaultProps,d)m[a]===void 0&&(m[a]=d[a]);return{$$typeof:s,type:o,key:x,ref:g,props:m,_owner:n.current}}return p.Fragment=l,p.jsx=i,p.jsxs=i,p}var N;function _(){return N||(N=1,j.exports=R()),j.exports}var e=_(),u=D(),h={},S;function C(){if(S)return h;S=1;var r=E();return h.createRoot=r.createRoot,h.hydrateRoot=r.hydrateRoot,h}var I=C();const y="1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989";function O(r){if(r<0||r>=y.length)throw new Error(`Position ${r} is out of range`);return y[r]}function P(r,s){return r<0||r>=y.length?!1:y[r]===s}function T(){const[r,s]=u.useState("idle"),[l,c]=u.useState(0),[n,t]=u.useState([]),[i,o]=u.useState(0),d=u.useCallback(()=>{s("playing"),c(0),t([]),o(Date.now())},[]),f=u.useCallback(x=>{const g=O(l),v=P(l,x);return v?(t(b=>[...b,x]),c(b=>b+1)):s("finished"),{isCorrect:v,position:l,inputDigit:x,correctDigit:g}},[l]),a=u.useCallback(()=>{s("idle"),c(0),t([]),o(0)},[]),m=u.useCallback(()=>i===0?0:Math.floor((Date.now()-i)/1e3),[i]);return{gameState:r,currentPosition:l,inputHistory:n,startGame:d,validateInput:f,resetGame:a,getElapsedTime:m}}function L(r,s){const[l,c]=u.useState(()=>{try{const t=window.localStorage.getItem(r);return t?JSON.parse(t):s}catch(t){return console.error(`Error loading ${r} from localStorage:`,t),s}}),n=t=>{try{const i=t instanceof Function?t(l):t;c(i),window.localStorage.setItem(r,JSON.stringify(i))}catch(i){console.error(`Error saving ${r} to localStorage:`,i)}};return u.useEffect(()=>{const t=i=>{if(i.key===r&&i.newValue)try{c(JSON.parse(i.newValue))}catch(o){console.error(`Error parsing storage event for ${r}:`,o)}};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)},[r]),[l,n]}function $({onInput:r,disabled:s,autoFocus:l=!1}){const[c,n]=u.useState(""),[t,i]=u.useState("idle"),o=u.useRef(null);u.useEffect(()=>{l&&o.current&&o.current.focus()},[l]);const d=f=>{const a=f.target.value;a&&!/^[0-9]$/.test(a)||(n(a),a&&(r(a),setTimeout(()=>{n(""),i("idle")},100)))};return u.useEffect(()=>{s&&i("idle")},[s]),e.jsx("div",{className:"flex justify-center my-8",children:e.jsx("input",{ref:o,type:"text",inputMode:"numeric",pattern:"[0-9]",maxLength:1,value:c,onChange:d,disabled:s,className:`
          w-24 h-24 text-6xl text-center font-mono rounded-lg
          border-4 transition-all duration-200
          focus:outline-none focus:ring-4 focus:ring-primary/50
          ${t==="idle"?"border-gray-300 bg-white":""}
          ${t==="correct"?"border-success bg-success/10 animate-pop":""}
          ${t==="error"?"border-error bg-error/10 animate-shake":""}
          ${s?"opacity-50 cursor-not-allowed":""}
        `,autoComplete:"off",autoFocus:l})})}const q={maxDigits:0,maxDigitsDate:0,totalSessions:0,totalDigitsTyped:0};function J(){const{gameState:r,currentPosition:s,inputHistory:l,startGame:c,validateInput:n,resetGame:t,getElapsedTime:i}=T(),[o,d]=L("piflow_personal_best",q),f=m=>{n(m).isCorrect||(s>o.maxDigits?d({...o,maxDigits:s,maxDigitsDate:Date.now(),totalSessions:o.totalSessions+1,totalDigitsTyped:o.totalDigitsTyped+s}):d({...o,totalSessions:o.totalSessions+1,totalDigitsTyped:o.totalDigitsTyped+s}))};u.useEffect(()=>{const m=x=>{x.key==="Enter"&&r==="idle"&&c()};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[r,c]);const a=l.slice(-20).join("");return e.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-2xl w-full",children:[e.jsx("h1",{className:"text-4xl font-bold text-center mb-8 text-gray-900",children:"œÄ PiFlow"}),r==="idle"&&e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"ÂÜÜÂë®Áéá„ÇíË®òÊÜ∂„Åó„Çà„ÅÜ"}),e.jsx("p",{className:"text-gray-500 mb-8",children:"Enter„Ç≠„Éº„ÇíÊäº„Åô„Åã„ÄÅ‰∏ã„ÅÆ„Éú„Çø„É≥„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶ÈñãÂßã"}),e.jsx("button",{onClick:c,className:"px-8 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary/90 transition-colors",children:"Á∑¥ÁøíÈñãÂßã"}),o.maxDigits>0&&e.jsxs("div",{className:"mt-8 p-4 bg-white rounded-lg shadow",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"„ÅÇ„Å™„Åü„ÅÆ„Éô„Çπ„ÉàË®òÈå≤"}),e.jsxs("p",{className:"text-3xl font-bold font-mono text-primary",children:[o.maxDigits,"Ê°Å"]})]})]}),r==="playing"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow text-center",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"ÁèæÂú®„ÅÆÊ°ÅÊï∞"}),e.jsx("p",{className:"text-4xl font-bold font-mono text-gray-900",children:s})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow text-center",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"„Éô„Çπ„Éà"}),e.jsx("p",{className:"text-3xl font-bold font-mono text-primary",children:o.maxDigits})]})]}),a&&e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow",children:[e.jsx("p",{className:"text-gray-400 text-center mb-2",children:"3."}),e.jsx("p",{className:"text-2xl font-mono text-center text-gray-700 break-all",children:a})]}),e.jsx($,{onInput:f,disabled:!1,autoFocus:!0})]}),r==="finished"&&e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-lg",children:[s>o.maxDigits&&e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-4xl mb-2",children:"üéâ"}),e.jsx("p",{className:"text-2xl font-bold text-accent",children:"Êñ∞Ë®òÈå≤ÈÅîÊàêÔºÅ"})]}),e.jsx("h2",{className:"text-xl text-gray-600 mb-4",children:"ÁµêÊûú"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Âà∞ÈÅîÊ°ÅÊï∞"}),e.jsx("p",{className:"text-6xl font-bold font-mono text-gray-900",children:s})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"ÊâÄË¶ÅÊôÇÈñì"}),e.jsxs("p",{className:"text-2xl font-mono text-gray-700",children:[i(),"Áßí"]})]}),e.jsx("div",{className:"space-y-3",children:e.jsx("button",{onClick:t,className:"w-full px-6 py-3 bg-primary text-white rounded-lg font-semibold hover:bg-primary/90 transition-colors",children:"„ÇÇ„ÅÜ‰∏ÄÂ∫¶"})})]})})]})})}function G(){return e.jsx(J,{})}I.createRoot(document.getElementById("root")).render(e.jsx(u.StrictMode,{children:e.jsx(G,{})}));
